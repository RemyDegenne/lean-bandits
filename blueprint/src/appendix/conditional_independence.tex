\chapter{Conditional independence}


\begin{lemma}\label{lem:CondIndepFun.prod_right}
  \leanok
  \lean{ProbabilityTheory.CondIndepFun.prod_right}
If $X \ind Y \mid Z$, then $X \ind (Y, Z) \mid Z$.
\end{lemma}

\begin{proof}\leanok

\end{proof}


\begin{lemma}[Contraction]\label{lem:indepFun_contraction}
If $X \ind Y \mid Z$ and $X \ind Z$, then $X \ind (Y, Z)$.
\end{lemma}

\begin{proof}
It suffices to show that $\mathcal{L}(X \mid Y, Z) = \mathcal{L}(X)$.
By conditional independence, $\mathcal{L}(X \mid Y, Z) = \mathcal{L}(X \mid Z)$.
By independence, $\mathcal{L}(X \mid Z) = \mathcal{L}(X)$.
\end{proof}


\begin{lemma}\label{lem:condIndepFun_contraction}
If $X \ind Y \mid Z, W$ and $X \ind Z \mid W$, then $X \ind (Y, Z) \mid W$.
\end{lemma}

\begin{proof}
It suffices to show that $\mathcal{L}(X \mid Y, Z, W) = \mathcal{L}(X \mid W)$.
By the first hypothesis, $\mathcal{L}(X \mid Y, Z, W) = \mathcal{L}(X \mid Z, W)$.
By the second hypothesis, $\mathcal{L}(X \mid Z, W) = \mathcal{L}(X \mid W)$.
\end{proof}


\begin{lemma}\label{lem:iIndepFun_nat_iff_forall_indepFun}
  \leanok
  \lean{ProbabilityTheory.iIndepFun_nat_iff_forall_indepFun}
A family of random variables $(X_i)_{i \in \mathbb{N}}$ is independent if and only if for all $n \in \mathbb{N}$, $X_{n+1}$ is independent of $(X_0, \ldots, X_n)$.
\end{lemma}

\begin{proof}\leanok

\end{proof}
